{% extends "game/layout.html" %}
{% load static %}

{% block title %}
TicTacToe
{% endblock %}

{% block body %}

    {% if message %}
        <div class="container-fluid bg-danger-subtle text-center text-danger-emphasis border-top border-bottom border-danger-subtle my-3 py-2 fs-6">
            {{ message }}
        </div>
    {% endif %}

    <div class="container-fluid text-center pt-3">
        <h1>Waiting Games</h1>
    </div>

    <div class="container text-center pt-5">
        <div class="row row-cols-1 row-cols-md-4 g-4 justify-content-evenly" id="waiting_games_div">      
            {% for game in waiting_games %}
                <div class="col d-flex justify-content-center">
                    <div class="card border-info mb-3 text-center" style="max-width: 18rem;">
                        <div class="card-header">Game {{ game.id }}</div>
                        <div class="card-body px-5">
                            <h5 class="card-title pb-2">{{ game.player1 }} X {{ game.player2|default:"Empty" }}</h5>
                            <div class="d-flex justify-content-center">
                                <a type="button" class="btn btn-outline-info" href="{% url 'enter_game' game_id=game.id %}">Enter Match</a>
                            </div>
                        </div>
                    </div> 
                </div>
            {% endfor %}
        </div>        
    </div>

    <div class="container-fluid text-center pt-3">
        <h1>Started Games</h1>
    </div>

    <div class="container text-center pt-5">
        <div class="row row-cols-1 row-cols-md-4 g-4 justify-content-evenly" id="started_games_div">   
            {% for game in started_games %}
                <div class="col d-flex justify-content-center">
                    <div class="card border-info mb-3 text-center" style="max-width: 18rem;">
                        <div class="card-header">Game {{ game.id }}</div>
                        <div class="card-body px-5">
                            <h5 class="card-title pb-2">{{ game.player1 }} X {{ game.player2 }}</h5>
                        </div>
                    </div> 
                </div>
            {% endfor %}   
        </div>        
    </div>

    <div class="container text-center pt-5">
        <a type="button" class="btn btn-outline-info btn-lg" href="{% url 'create_game' %}">Create Room</a>
    </div>


    <div class="container text-center mt-4">
        <svg fill="#ffffff" height="4rem" width="4rem" version="1.1" id="refresh_button" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-48.97 -48.97 587.64 587.64" xml:space="preserve" stroke="#ffffff" stroke-width="0.00489698">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#ccfeff" stroke-width="2.938188"></g>
            <g id="SVGRepo_iconCarrier"> 
                <g> <g> 
                <path d="M468.999,227.774c-11.4,0-20.8,8.3-20.8,19.8c-1,74.9-44.2,142.6-110.3,178.9c-99.6,54.7-216,5.6-260.6-61l62.9,13.1 c10.4,2.1,21.8-4.2,23.9-15.6c2.1-10.4-4.2-21.8-15.6-23.9l-123.7-26c-7.2-1.7-26.1,3.5-23.9,22.9l15.6,124.8 c1,10.4,9.4,17.7,19.8,17.7c15.5,0,21.8-11.4,20.8-22.9l-7.3-60.9c101.1,121.3,229.4,104.4,306.8,69.3 c80.1-42.7,131.1-124.8,132.1-215.4C488.799,237.174,480.399,227.774,468.999,227.774z"></path> <path d="M20.599,261.874c11.4,0,20.8-8.3,20.8-19.8c1-74.9,44.2-142.6,110.3-178.9c99.6-54.7,216-5.6,260.6,61l-62.9-13.1 c-10.4-2.1-21.8,4.2-23.9,15.6c-2.1,10.4,4.2,21.8,15.6,23.9l123.8,26c7.2,1.7,26.1-3.5,23.9-22.9l-15.6-124.8 c-1-10.4-9.4-17.7-19.8-17.7c-15.5,0-21.8,11.4-20.8,22.9l7.2,60.9c-101.1-121.2-229.4-104.4-306.8-69.2 c-80.1,42.6-131.1,124.8-132.2,215.3C0.799,252.574,9.199,261.874,20.599,261.874z">
                </path> 
                </g> </g> 
            </g>
        </svg>        
    </div>


{% endblock %}

{% block script %}
    <script type="module" src="{% static 'game/index.js' %}"></script>
{% endblock %}